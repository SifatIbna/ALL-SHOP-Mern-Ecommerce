(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(30),s=r.n(c),i=(r(90),r(91),r(12)),o=r(20),d=r(131),l=r(7),j=r(17),u=r(139),b=r(141),p=r(136),h=r(9),O=r.n(h),x=r(13),m=r(14),g=r.n(m),f="FETCH_PRODUCT_LIST_REQUEST_START",v="PRODUCT_LIST_FETCH_SUCCESS",y="PRODUCT_LIST_FETCH_FAILURE",E="SINGLE_PRODUCT_FETCH_START",S="SINGLE_PRODUCT_FETCH_SUCCESS",_="SINGLE_PRODUCT_FETCH_FAILURE",R="PRODUCT_DELETE_START",C="PRODUCT_DELETE_SUCCESS",T="PRODUCT_DELETE_FAIL",I="PRODUCT_DELETE_START",A="PRODUCT_DELETE_SUCCESS",L="PRODUCT_DELETE_FAIL",D="PRODUCT_CREATE_RESET",U="PRODUCT_UPDATE_START",k="PRODUCT_UPDATE_SUCCESS",w="PRODUCT_UPDATE_FAIL",P="PRODUCT_UPDATE_RESET",N="PRODUCT_TOP_REQ_START",F="PRODUCT_TOP_REQ_SUCCESS",G="PRODUCT_TOP_REQ_FAIL",Q="PRODUCT_CREATE_REVIEW_START",M="PRODUCT_CREATE_REVIEW_SUCCESS",B="PRODUCT_CREATE_REVIEW_FAIL",Y="PRODUCT_CREATE_REVIEW_RESET",q="USER_LOGIN_REQUEST_START",z="USER_LOGIN_SUCCESS",V="USER_LOGIN_REQUEST_FAILURE",H="USER_LOGOUT_SUCCESS",$="USER_LOGOUT_FAILURE",J="USER_LOGOUT_START",W="USER_REGISTER_REQUEST_START",K="USER_REGISTER_REQUEST_SUCCESS",X="USER_REGISTER_REQUEST_FAILURE",Z="USER_DETAILS_REQUEST_START",ee="USER_DETAILS_REQUEST_SUCCESS",te="USER_DETAILS_REQUEST_FAILURE",re="USER_PROFILE_UPDATE_REQ_START",ae="USER_PROFILE_UPDATE_REQ_SUCEESS",ne="USER_PROFILE_UPDATE_REQ_FAILURE",ce="USER_LIST_REQ_SUCCESS",se="USER_LIST_REQ_FAILURE",ie="USER_LIST_REQ_START",oe="USER_LIST_RESET",de="USER_DELETE_START",le="USER_DELETE_SUCCESS",je="USER_DELETE_FAILURE",ue="USER_UPDATE_RESET",be="USER_UPDATE_REQUEST_START",pe="USER_UPDATE_REQUEST_SUCCESS",he="USER_UPDATE_REQUEST_FAIL",Oe=function(e){return{type:z,payload:e}},xe=function(){return function(e){e({type:J}),localStorage.removeItem("userInfo"),e({type:H}),e({type:oe})}},me=function(e){return{type:K,payload:e}},ge=function(e){return{type:ae,payload:e}},fe=r(11),ve=r(137),ye=r(78),Ee=r(0),Se=function(e){var t=e.history,r=Object(a.useState)(""),n=Object(fe.a)(r,2),c=n[0],s=n[1];return Object(Ee.jsxs)(ve.a,{onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},inline:!0,children:[Object(Ee.jsx)(ve.a.Control,{type:"text",name:"q",onChange:function(e){return s(e.target.value)},placeholder:"Search Products...",className:"mr-sm-2 ml-sm-5"}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"outline-success",className:"p-2",children:"Search"})]})},_e=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.user})).user,r=function(){e(xe())};return Object(Ee.jsx)("header",{children:Object(Ee.jsx)(u.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(Ee.jsxs)(d.a,{children:[Object(Ee.jsx)(j.LinkContainer,{to:"/",children:Object(Ee.jsx)(u.a.Brand,{children:"ALL-SHOP"})}),Object(Ee.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Ee.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(Ee.jsx)(o.d,{render:function(e){var t=e.history;return Object(Ee.jsx)(Se,{history:t})}}),Object(Ee.jsxs)(b.a,{className:"ml-auto",style:{marginLeft:"auto"},children:[Object(Ee.jsx)(j.LinkContainer,{to:"/cart",children:Object(Ee.jsxs)(b.a.Link,{children:[Object(Ee.jsx)("i",{className:"fas fa-shopping-cart"})," Cart"]})}),0!==Object.keys(t).length?Object(Ee.jsxs)(p.a,{title:t.name,id:"username",children:[Object(Ee.jsx)(j.LinkContainer,{to:"/profile",children:Object(Ee.jsx)(p.a.Item,{children:"Profile"})}),Object(Ee.jsx)(p.a.Item,{onClick:r,children:"Logout"})]}):Object(Ee.jsx)(j.LinkContainer,{to:"/login",children:Object(Ee.jsxs)(b.a.Link,{children:[Object(Ee.jsx)("i",{className:"fas fa-user"})," Sign In"]})}),t&&t.isAdmin&&Object(Ee.jsxs)(p.a,{title:"Admin",id:"adminMenu",children:[Object(Ee.jsx)(j.LinkContainer,{to:"/admin/userList",children:Object(Ee.jsx)(p.a.Item,{children:"Users"})}),Object(Ee.jsx)(j.LinkContainer,{to:"/admin/productList",children:Object(Ee.jsx)(p.a.Item,{children:"Products"})}),Object(Ee.jsx)(j.LinkContainer,{to:"/admin/orderList",children:Object(Ee.jsx)(p.a.Item,{children:"Orders"})}),Object(Ee.jsx)(p.a.Item,{onClick:r,children:"Logout"})]})]})]})]})})})},Re=r(132),Ce=r(77),Te=function(){return Object(Ee.jsx)("footer",{children:Object(Ee.jsx)(d.a,{children:Object(Ee.jsx)(Re.a,{children:Object(Ee.jsx)(Ce.a,{className:"text-center py-3",children:"Copyright \xa9 ALL-SHOP"})})})})},Ie=function(){return{type:f}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(x.a)(O.a.mark((function r(a){var n,c;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(Ie()),r.next=4,g.a.get("http://192.168.0.107:5000/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:n=r.sent,c=n.data,a(Le(c)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),a(De(r.t0.message));case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()},Le=function(e){return{type:v,payload:e}},De=function(e){return{type:y,payload:e}},Ue=function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:E}),t.next=4,g.a.get("http://192.168.0.107:5000/api/products/".concat(e));case 4:a=t.sent,n=a.data,r(ke(n)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(we(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(e){return{type:S,payload:e}},we=function(e){return{type:_,payload:e}},Pe=r(133),Ne=function(){return Object(Ee.jsx)(Pe.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(Ee.jsx)("span",{className:"sr-only",children:"Loading..."})})},Fe=r(140),Ge=function(e){var t=e.variant,r=e.children;return Object(Ee.jsx)(Fe.a,{variant:t,children:r})};Ge.defaultProps={variant:"info"};var Qe=Ge,Me=r(142),Be=function(e){var t=e.value,r=e.text,a=e.color;return Object(Ee.jsxs)("div",{className:"rating",children:[Object(Ee.jsx)("span",{children:Object(Ee.jsx)("i",{style:{color:a},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ee.jsx)("span",{children:Object(Ee.jsx)("i",{style:{color:a},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ee.jsx)("span",{children:Object(Ee.jsx)("i",{style:{color:a},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ee.jsx)("span",{children:Object(Ee.jsx)("i",{style:{color:a},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ee.jsx)("span",{children:Object(Ee.jsx)("i",{style:{color:a},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Ee.jsx)("span",{children:r&&r})]})};Be.defaultProps={color:"#f8e825"};var Ye=Be,qe=function(e){var t=e.product;return Object(Ee.jsxs)(Me.a,{className:"my-3 p-3 rounded",children:[Object(Ee.jsx)(i.Link,{to:"/product/".concat(t._id),children:Object(Ee.jsx)(Me.a.Img,{src:t.image,variant:"top "})}),Object(Ee.jsxs)(Me.a.Body,{children:[Object(Ee.jsx)(i.Link,{to:"/product/".concat(t._id),children:Object(Ee.jsx)(Me.a.Title,{as:"div",children:Object(Ee.jsx)("strong",{children:t.name})})}),Object(Ee.jsx)(Me.a.Text,{as:"div",children:Object(Ee.jsx)(Ye,{value:t.rating,text:"".concat(t.numReviews," reviews")})}),Object(Ee.jsxs)(Me.a.Text,{as:"h3",children:["$",t.price]})]})]})},ze=r(34),Ve=r(143),He=function(e){var t=e.pages,r=e.page,a=e.isAdmin,n=void 0!==a&&a,c=e.keyword,s=void 0===c?"":c;return t>1&&Object(Ee.jsx)(Ve.a,{children:Object(ze.a)(Array(t).keys()).map((function(e){return Object(Ee.jsx)(j.LinkContainer,{to:n?"/admin/productList/".concat(e+1):s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(Ee.jsx)(Ve.a.Item,{active:e+1===r,children:e+1})},e+1)}))})},$e=r(138),Je=r(134),We=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.topProduct})),r=t.products,n=t.error,c=t.loading;return Object(a.useEffect)((function(){e(function(){var e=Object(x.a)(O.a.mark((function e(t){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),e.next=4,g.a.get("http://192.168.0.107:5000/api/products/top");case 4:r=e.sent,a=r.data,t({type:F,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:G,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),c?Object(Ee.jsx)(Ne,{}):n?Object(Ee.jsx)(Qe,{variant:"danger",children:n}):Object(Ee.jsx)($e.a,{pause:"hover",className:"bg-dark",children:r.map((function(e){return Object(Ee.jsx)($e.a.Item,{children:Object(Ee.jsxs)(i.Link,{to:"/product/".concat(e._id),children:[Object(Ee.jsx)(Je.a,{src:e.image,alt:e.name,fluid:!0}),Object(Ee.jsxs)($e.a.Caption,{className:"carousel-caption",children:[e.name," (",e.price,")"]})]})},e._id)}))})},Ke=r(80),Xe=function(e){var t=e.title,r=e.description,a=e.keywords;return Object(Ee.jsxs)(Ke.a,{children:[Object(Ee.jsx)("title",{children:t}),Object(Ee.jsx)("meta",{name:"description",content:r}),Object(Ee.jsx)("meta",{name:"keyword",content:a})]})};Xe.defaultProps={title:"Welcome To AllShop",description:"We sell the best products for cheap",keywords:"electronics, buy electronics, cheap electroincs"};var Ze=Xe,et=function(e){var t=e.match,r=t.params.keyword,n=t.params.pageNumber||1,c=Object(l.b)();Object(a.useEffect)((function(){c(Ae(r,n))}),[c,r,n]);var s=Object(l.c)((function(e){return e.product})),o=s.loading,d=s.error,j=s.products,u=s.page,b=s.pages;return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Ze,{}),r?Object(Ee.jsx)(i.Link,{to:"/",className:"btn btn-light",children:"GO BACK"}):Object(Ee.jsx)(We,{}),Object(Ee.jsx)("h1",{children:"Latest Products"}),o?Object(Ee.jsx)(Ne,{}):d?Object(Ee.jsx)(Qe,{variant:"danger",children:d}):Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Re.a,{children:j.map((function(e){return Object(Ee.jsx)(Ce.a,{sm:12,md:6,lg:4,xl:3,children:Object(Ee.jsx)(qe,{product:e})},e._id)}))}),Object(Ee.jsx)(He,{pages:b,page:u,keyword:r||""})]})]})},tt=r(2),rt=r(144),at=function(e){var t=e.history,r=e.match,n=Object(a.useState)({quantity:1,color:"red",size:"regular"}),c=Object(fe.a)(n,2),s=c[0],o=c[1],d=Object(a.useState)(0),j=Object(fe.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)(""),h=Object(fe.a)(p,2),m=h[0],f=h[1],v=Object(l.b)(),y=Object(l.c)((function(e){return e.product})),E=y.product,S=y.loading,_=y.error,R=Object(l.c)((function(e){return e.user})),C=R.user,T=(R.isLoading,R.error,Object(l.c)((function(e){return e.productReviews}))),I=T.success,A=(T.loading,T.error);Object(a.useEffect)((function(){I&&(alert("Review Submitted"),b(0),f(""),v({type:Y})),v(Ue(r.params.id))}),[r.params.id,v,C,I]);return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(i.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),S?Object(Ee.jsx)(Ne,{}):_?Object(Ee.jsx)(Qe,{variant:"danger",children:_}):0!==E.length&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(Ze,{title:E.name}),Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{md:6,children:Object(Ee.jsx)(Je.a,{src:E.image,alt:E.name,fluid:!0})}),Object(Ee.jsxs)(Ce.a,{md:3,children:[Object(Ee.jsx)(rt.a,{variant:"flush",children:Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsx)("h2",{children:E.name})})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsx)(Ye,{value:E.rating,text:"".concat(E.numReviews," reviews")})}),Object(Ee.jsxs)(rt.a.Item,{children:["Price : $",E.price]}),Object(Ee.jsxs)(rt.a.Item,{children:["Description : $",E.description]})]}),Object(Ee.jsx)(Ce.a,{md:3,children:Object(Ee.jsx)(Me.a,{children:Object(Ee.jsxs)(rt.a,{variant:"flush",children:[Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Price:"}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsxs)("strong",{children:["$",E.price]})})]})}),0!==E.length&&Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Available Sizes:"}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)(ve.a.Control,{as:"select",value:s.size,onChange:function(e){return o(Object(tt.a)(Object(tt.a)({},s),{},{size:e.target.value}))},children:E.size.map((function(e,t){return Object(Ee.jsx)("option",{value:e,children:e},t+1)}))})})]})}),0!==E.length&&Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Available Colors:"}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)(ve.a.Control,{as:"select",value:s.color,onChange:function(e){return o(Object(tt.a)(Object(tt.a)({},s),{},{color:e.target.value}))},children:E.color.map((function(e,t){return Object(Ee.jsx)("option",{value:e,children:e},t+1)}))})})]})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Status:"}),Object(Ee.jsx)(Ce.a,{children:E.countInStock>0?"In Stock":"Out Of Stock"})]})}),E.countInStock>0&&Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Quantity"}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)(ve.a.Control,{as:"select",value:s.quantity,onChange:function(e){return o(Object(tt.a)(Object(tt.a)({},s),{},{quantity:e.target.value}))},children:Object(ze.a)(Array(E.countInStock).keys()).map((function(e){return Object(Ee.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(Ee.jsx)(rt.a.Item,{onClick:function(){t.push("/cart/".concat(r.params.id,"?quantity=").concat(s.quantity,"&color=").concat(s.color,"&size=").concat(s.size))},className:"btn btn-dark",disabled:0===E.countInStock,children:"ADD TO CART"})]})})})]}),Object(Ee.jsx)(Re.a,{children:Object(Ee.jsxs)(Ce.a,{md:6,children:[Object(Ee.jsx)("h2",{children:"Reviews"}),0===E.reviews.length&&Object(Ee.jsx)(Qe,{children:"No Reviews"}),Object(Ee.jsxs)(rt.a,{variant:"flush",children:[E.reviews.map((function(e){return Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("strong",{children:e.name}),Object(Ee.jsx)(Ye,{value:e.rating}),Object(Ee.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(Ee.jsx)("p",{children:e.comment})]},e._id)})),Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Write a Customer review"}),A&&Object(Ee.jsx)(Qe,{variant:"danger",children:A}),0!==C.length?Object(Ee.jsxs)(ve.a,{onSubmit:function(e){var t,a;e.preventDefault(),v((t=r.params.id,a={rating:u,comment:m},function(){var e=Object(x.a)(O.a.mark((function e(r,n){var c,s,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:Q}),c=n(),s=c.user.user,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},console.log(a),e.next=7,g.a.post("http://192.168.0.107:5000/api/products/".concat(t,"/reviews"),a,i);case 7:r({type:M}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,r({type:B,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"rating",children:[Object(Ee.jsx)(ve.a.Label,{children:"Rating"}),Object(Ee.jsxs)(ve.a.Control,{as:"select",value:u,onChange:function(e){return b(Number(e.target.value))},children:[Object(Ee.jsx)("option",{value:"",children:"Select..."}),Object(Ee.jsx)("option",{value:"1",children:"1 - Poor"}),Object(Ee.jsx)("option",{value:"2",children:"2 - Fair"}),Object(Ee.jsx)("option",{value:"3",children:"3 - Good"}),Object(Ee.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(Ee.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"comment",children:[Object(Ee.jsx)(ve.a.Label,{children:"Comment"}),Object(Ee.jsx)(ve.a.Control,{as:"textarea",row:"3",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Submit"})]}):Object(Ee.jsxs)(Qe,{children:["Please ",Object(Ee.jsx)(i.Link,{to:"/login",children:"sign in"})," to write a review"]})]})]})]})})]})]})},nt="ADD_ITEM_TO_CART",ct="REMOVE_ITEM_FROM_CART",st="CLEAR_ITEM_FROM_CART",it=function(e,t,r,a){return function(){var n=Object(x.a)(O.a.mark((function n(c,s){var i,o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("http://192.168.0.107:5000/api/products/".concat(e));case 2:i=n.sent,o=i.data,c((d=Object(tt.a)(Object(tt.a)({},o),{},{quantity:t,size:r,color:a}),{type:nt,payload:d})),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems));case 6:case"end":return n.stop()}var d}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ot=function(e){var t=e.match,r=e.location,n=e.history,c=t.params.id,s=r.search?r.search.split("&"):null,o=null!==s&&Number(s[0].split("=")[1]),d=null!==s&&s[1].split("=")[1],j=null!==s&&s[2].split("=")[1],u=Object(l.b)(),b=Object(l.c)((function(e){return e.cart})).cartItems;Object(a.useEffect)((function(){c&&u(it(c,o,j,d))}),[u,c,o,d,j]);return Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsxs)(Ce.a,{md:8,children:[Object(Ee.jsx)("h1",{children:"Shopping Cart"}),0===b.length?Object(Ee.jsxs)(Qe,{children:["Your Cart is Empty ",Object(Ee.jsx)(i.Link,{to:"/",children:"Go Back"})]}):Object(Ee.jsx)(rt.a,{variant:"flush",children:b.map((function(e){return Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{md:2,children:Object(Ee.jsx)(Je.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Ee.jsx)(Ce.a,{md:3,children:Object(Ee.jsx)(i.Link,{to:"/product/$item.product",children:e.name})}),Object(Ee.jsxs)(Ce.a,{md:2,children:["$",e.price]}),Object(Ee.jsx)(Ce.a,{md:2,children:Object(Ee.jsx)(ve.a.Control,{as:"select",value:e.quantity,onChange:function(t){return u(it(e._id,Number(t.target.value)))},children:Object(ze.a)(Array(e.countInStock).keys()).map((function(e){return Object(Ee.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(Ee.jsx)(Ce.a,{md:2,children:Object(Ee.jsx)(ye.a,{type:"button",variant:"light",onClick:function(){return u(function(e){return function(t,r){t({type:st,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}}(e))},children:Object(Ee.jsx)("i",{className:"fas fa-trash"})})})]})},e._id)}))})]}),Object(Ee.jsx)(Ce.a,{md:4,children:Object(Ee.jsx)(Me.a,{children:Object(Ee.jsxs)(rt.a,{variant:"flush",children:[Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsxs)("h2",{children:["Subtotal (",b.reduce((function(e,t){return e+t.quantity}),0),")"]}),"$",b.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]}),Object(Ee.jsx)(rt.a.Item,{onClick:function(){n.push("/login?redirect=shipping"),console.log("Checkoutout")},className:"btn btn-dark",disabled:0===b.length,children:"Proceed To Checkout"})]})})})]})},dt=r(33),lt=function(e){var t=e.children;return Object(Ee.jsx)("div",{children:Object(Ee.jsx)(d.a,{children:Object(Ee.jsx)(Re.a,{className:"justify-content-md-center",children:Object(Ee.jsx)(Ce.a,{xs:12,md:6,children:t})})})})},jt=function(e){var t=e.location,r=e.history,n=Object(a.useState)({email:"",password:""}),c=Object(fe.a)(n,2),s=c[0],o=c[1],d=Object(l.b)(),j=Object(l.c)((function(e){return e.user})),u=j.user,b=j.isLoading,p=j.error,h=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){0!==Object.keys(u).length&&r.push(h)}),[r,u,h]);var m=function(e){var t=e.target,r=t.value,a=t.name;o(Object(tt.a)(Object(tt.a)({},s),{},Object(dt.a)({},a,r)))};return Object(Ee.jsxs)(lt,{children:[Object(Ee.jsx)("h1",{children:"Sign In"}),p&&Object(Ee.jsx)(Qe,{variant:"danger",children:p}),b&&Object(Ee.jsx)(Ne,{}),Object(Ee.jsxs)(ve.a,{onSubmit:function(e){e.preventDefault(),d(function(e){var t=e.email,r=e.password;return function(){var e=Object(x.a)(O.a.mark((function e(a){var n,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:q}),n={header:{"Content-Type":"application/json"}},e.next=5,g.a.post("http://192.168.0.107:5000/api/users/login",{email:t,password:r},n);case 5:c=e.sent,s=c.data,a(Oe(s)),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a((i=e.t0.message,{type:V,payload:i}));case 14:case"end":return e.stop()}var i}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}(s))},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"email",children:[Object(Ee.jsx)(ve.a.Label,{children:"Email Address"}),Object(Ee.jsx)(ve.a.Control,{name:"email",type:"email",placeholder:"Enter Email",value:s.email,onChange:m})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"password",children:[Object(Ee.jsx)(ve.a.Label,{children:"Password"}),Object(Ee.jsx)(ve.a.Control,{name:"password",type:"password",placeholder:"Enter Password",value:s.password,onChange:m})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(Ee.jsx)(Re.a,{className:"py-3",children:Object(Ee.jsxs)(Ce.a,{children:["New Customer?"," ",Object(Ee.jsx)(i.Link,{to:h?"/register?redirect=".concat(h):"/register",children:"Register"})]})})]})},ut=function(e){var t=e.location,r=e.history,n=Object(a.useState)({name:"",email:"",password:"",confirmPassword:"",message:""}),c=Object(fe.a)(n,2),s=c[0],o=c[1],d=Object(l.b)(),j=Object(l.c)((function(e){return e.user})),u=j.user,b=j.isLoading,p=j.error,h=t.search?t.search.split("=")[1]:"/";Object(a.useEffect)((function(){0!==Object.keys(u).length&&r.push(h)}),[r,u,h]);var m=function(e){var t=e.target,r=t.value,a=t.name;o(Object(tt.a)(Object(tt.a)({},s),{},Object(dt.a)({},a,r)))};return Object(Ee.jsxs)(lt,{children:[Object(Ee.jsx)("h1",{children:"Sign Up"}),s.message&&Object(Ee.jsx)(Qe,{variant:"danger",children:s.message}),p&&Object(Ee.jsx)(Qe,{variant:"danger",children:p}),b&&Object(Ee.jsx)(Ne,{}),Object(Ee.jsxs)(ve.a,{onSubmit:function(e){e.preventDefault(),s.password!==s.confirmPassword?o(Object(tt.a)(Object(tt.a)({},s),{},{message:"Password Do not match"})):d(function(e){var t=e.name,r=e.email,a=e.password;return function(){var e=Object(x.a)(O.a.mark((function e(n){var c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:W}),c={header:{"Content-Type":"application/json"}},e.next=5,g.a.post("http://192.168.0.107:5000/api/users",{name:t,email:r,password:a},c);case 5:s=e.sent,i=s.data,n(me(i)),n(Oe(i)),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),n((o=e.t0.message,{type:X,payload:o}));case 16:case"end":return e.stop()}var o}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}(s))},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"name",children:[Object(Ee.jsx)(ve.a.Label,{children:"Enter Your Name"}),Object(Ee.jsx)(ve.a.Control,{name:"name",type:"text",placeholder:"Enter Your Name",value:s.name,onChange:m})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"email",children:[Object(Ee.jsx)(ve.a.Label,{children:"Email Address"}),Object(Ee.jsx)(ve.a.Control,{name:"email",type:"email",placeholder:"Enter Email",value:s.email,onChange:m})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"password",children:[Object(Ee.jsx)(ve.a.Label,{children:"Password"}),Object(Ee.jsx)(ve.a.Control,{name:"password",type:"password",placeholder:"Enter Password",value:s.password,onChange:m})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"confirmPassword",children:[Object(Ee.jsx)(ve.a.Label,{children:"ConfirmPassword"}),Object(Ee.jsx)(ve.a.Control,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",value:s.confirmPassword,onChange:m})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(Ee.jsx)(Re.a,{className:"py-3",children:Object(Ee.jsxs)(Ce.a,{children:["Have an Account?"," ",Object(Ee.jsx)(i.Link,{to:h?"/login?redirect=".concat(h):"/login",children:"Login"})]})})]})},bt=r(135),pt="ORDER_REQUEST_START",ht="ORDER_REQUEST_SUCEES",Ot="ORDER_REQUEST_FAILED",xt="ORDER_DETAIL_REQUEST_START",mt="ORDER_DETAIL_REQUEST_SUCEES",gt="ORDER_DETAIL_REQUEST_FAILED",ft="ORDER_PAY_REQUEST_START",vt="ORDER_PAY_REQUEST_SUCEES",yt="ORDER_PAY_REQUEST_FAILED",Et="ORDER_DELIVER_REQUEST_START",St="ORDER_DELIVER_REQUEST_SUCEES",_t="ORDER_DELIVER_REQUEST_FAILED",Rt="ORDER_DELIVER_RESET",Ct="ORDER_PAY_RESET",Tt="ORDER_LIST_MY_REQUEST_START",It="ORDER_LIST_MY_REQUEST_SUCCESS",At="ORDER_LIST_MY_REQUEST_FAILURE",Lt="GET_ALL_ORDER_START",Dt="GET_ALL_ORDER:SUCCESS",Ut="GET_ALL_ORDER:FAIL",kt=function(e){return{type:ht,payload:e}},wt=function(e){return{type:Ot,payload:e}},Pt=function(e){return{type:mt,payload:e}},Nt=function(e){return{type:It,payload:e}},Ft=function(e){e.location;var t=e.history,r=Object(a.useState)({name:"",email:"",message:"",password:"",confirmPassword:""}),n=Object(fe.a)(r,2),c=n[0],s=n[1],i=Object(l.b)(),o=Object(l.c)((function(e){return e.user})),d=o.user,u=o.isLoading,b=o.error,p=Object(l.c)((function(e){return e.update})),h=p.updatedUser,m=p.pending,f=(p.updateError,Object(l.c)((function(e){return e.orderList}))),v=f.orders,y=f.loading,E=f.error;Object(a.useEffect)((function(){0===Object.keys(d).length?t.push("/login"):(i(function(){var e=Object(x.a)(O.a.mark((function e(t,r){var a,n,c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Tt}),a=r(),n=a.user.user,console.log(n),c={headers:{authorization:"Bearer ".concat(n.token)}},e.next=7,g.a.get("http://192.168.0.107:5000/api/orders/myorders",c);case 7:s=e.sent,i=s.data,t(Nt(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t((o=e.t0.message,{type:At,payload:o}));case 15:case"end":return e.stop()}var o}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()),s({name:d.name,email:d.email,message:"",password:"",confirmPassword:""}))}),[t,i,d,h]);var S=function(e){var t=e.target,r=t.value,a=t.name;s(Object(tt.a)(Object(tt.a)({},c),{},Object(dt.a)({},a,r)))};return Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsxs)(Ce.a,{md:3,children:[Object(Ee.jsx)("h2",{children:"User Profile"}),c.message&&Object(Ee.jsx)(Qe,{variant:"danger",children:c.message}),b&&Object(Ee.jsx)(Qe,{variant:"danger",children:b}),u&&Object(Ee.jsx)(Ne,{}),m&&Object(Ee.jsx)(Ne,{}),Object(Ee.jsxs)(ve.a,{onSubmit:function(e){e.preventDefault(),c.password!==c.confirmPassword?s(Object(tt.a)(Object(tt.a)({},c),{},{message:"Password Do not match"})):(i(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s,i,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:re}),n=a(),c=n.user.user,s={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(c.token)}},console.log(e),t.next=7,g.a.put("http://192.168.0.107:5000/api/users/profile",e,s);case 7:i=t.sent,o=i.data,console.log(o),r(ge(o)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r((d=t.t0.message,{type:ne,payload:d}));case 18:case"end":return t.stop()}var d}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:d._id,name:c.name,email:c.email,password:c.password})),s(Object(tt.a)(Object(tt.a)({},c),{},{message:""})))},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"name",children:[Object(Ee.jsx)(ve.a.Label,{children:"Enter Your Name"}),Object(Ee.jsx)(ve.a.Control,{name:"name",type:"text",placeholder:"Enter Your Name",value:c.name,onChange:S})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"email",children:[Object(Ee.jsx)(ve.a.Label,{children:"Email Address"}),Object(Ee.jsx)(ve.a.Control,{name:"email",type:"email",placeholder:"Enter Email",value:c.email,onChange:S})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"password",children:[Object(Ee.jsx)(ve.a.Label,{children:"Password"}),Object(Ee.jsx)(ve.a.Control,{name:"password",type:"password",placeholder:"Enter Password",value:c.password,onChange:S})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"confirmPassword",children:[Object(Ee.jsx)(ve.a.Label,{children:"ConfirmPassword"}),Object(Ee.jsx)(ve.a.Control,{name:"confirmPassword",type:"password",placeholder:"Confirm Password",value:c.confirmPassword,onChange:S})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(Ee.jsxs)(Ce.a,{md:9,children:[Object(Ee.jsx)("h2",{children:"My Orders"}),y?Object(Ee.jsx)(Ne,{}):E?Object(Ee.jsx)(Qe,{variant:"danger",children:E}):Object(Ee.jsxs)(bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"ID"}),Object(Ee.jsx)("th",{children:"DATE"}),Object(Ee.jsx)("th",{children:"TOTAL"}),Object(Ee.jsx)("th",{children:"PAID"}),Object(Ee.jsx)("th",{children:"DELIVERED"}),Object(Ee.jsx)("th",{})]})}),Object(Ee.jsx)("tbody",{children:v.map((function(e){return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{children:e._id}),Object(Ee.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(Ee.jsx)("td",{children:e.totalPrice}),Object(Ee.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(Ee.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ee.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(Ee.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ee.jsx)("td",{children:Object(Ee.jsx)(j.LinkContainer,{to:"/order/".concat(e._id),children:Object(Ee.jsx)(ye.a,{className:"btn-sm",variant:"light",children:"Details"})})})]},e._id)}))})]})]})]})},Gt=function(e){var t=e.step1,r=e.step2,a=e.step3,n=e.step4;return Object(Ee.jsxs)(b.a,{className:"justify-content-center mb-4",children:[Object(Ee.jsx)(b.a.Item,{children:t?Object(Ee.jsx)(j.LinkContainer,{to:"/login",children:Object(Ee.jsx)(b.a.Link,{children:"Sign IN"})}):Object(Ee.jsx)(b.a.Link,{disabled:!0,children:"Sign IN"})}),Object(Ee.jsx)(b.a.Item,{children:r?Object(Ee.jsx)(j.LinkContainer,{to:"/shipping",children:Object(Ee.jsx)(b.a.Link,{children:"Shipping"})}):Object(Ee.jsx)(b.a.Link,{disabled:!0,children:"Shipping"})}),Object(Ee.jsx)(b.a.Item,{children:a?Object(Ee.jsx)(j.LinkContainer,{to:"/payment",children:Object(Ee.jsx)(b.a.Link,{children:"Payment"})}):Object(Ee.jsx)(b.a.Link,{disabled:!0,children:"Payment"})}),Object(Ee.jsx)(b.a.Item,{children:n?Object(Ee.jsx)(j.LinkContainer,{to:"/placeorder",children:Object(Ee.jsx)(b.a.Link,{children:"Place Order"})}):Object(Ee.jsx)(b.a.Link,{disabled:!0,children:"Place Order"})})]})},Qt={CART_SAVE_SHIPPING_ADDRESS:"CART_SAVE_SHIPPING_ADDRESS"},Mt=function(e){var t=e.history,r=Object(l.c)((function(e){return e.shipping})).shippingAddress,n=Object(a.useState)(r.address),c=Object(fe.a)(n,2),s=c[0],i=c[1],o=Object(a.useState)(r.city),d=Object(fe.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(r.postalCode),p=Object(fe.a)(b,2),h=p[0],O=p[1],x=Object(a.useState)(r.country),m=Object(fe.a)(x,2),g=m[0],f=m[1],v=Object(l.b)();return Object(Ee.jsxs)(lt,{children:[Object(Ee.jsx)(Gt,{step1:!0,step2:!0}),Object(Ee.jsx)("h1",{children:"Shipping"}),Object(Ee.jsxs)(ve.a,{onSubmit:function(e){var r;e.preventDefault(),v((r={address:s,city:j,postalCode:h,country:g},function(e){e({type:Qt.CART_SAVE_SHIPPING_ADDRESS,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r))})),t.push("/payment")},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"address",children:[Object(Ee.jsx)(ve.a.Label,{children:"Enter Your Address"}),Object(Ee.jsx)(ve.a.Control,{name:"address",type:"text",placeholder:"Enter Your address",value:s,required:!0,onChange:function(e){return i(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"city",children:[Object(Ee.jsx)(ve.a.Label,{children:"Enter Your City"}),Object(Ee.jsx)(ve.a.Control,{name:"city",type:"text",placeholder:"Enter Your city",value:j,required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"postalCode",children:[Object(Ee.jsx)(ve.a.Label,{children:"Enter Your postalCode"}),Object(Ee.jsx)(ve.a.Control,{name:"postalCode",type:"text",placeholder:"Enter Your postalCode",value:h,required:!0,onChange:function(e){return O(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"country",children:[Object(Ee.jsx)(ve.a.Label,{children:"Enter Your country"}),Object(Ee.jsx)(ve.a.Control,{name:"country",type:"text",placeholder:"Enter Your country",value:g,required:!0,onChange:function(e){return f(e.target.value)}})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},Bt={CART_SAVE_PAYMENT_METHOD:"CART_SAVE_PAYMENT_METHOD"},Yt=function(e){var t=e.history;Object(l.c)((function(e){return e.shipping})).shippingAddress||t.push("/shipping");var r=Object(a.useState)("PayPal"),n=Object(fe.a)(r,2),c=n[0],s=n[1],i=Object(l.b)();return Object(Ee.jsxs)(lt,{children:[Object(Ee.jsx)(Gt,{step1:!0,step2:!0,step3:!0}),Object(Ee.jsx)("h1",{children:"Payment Method"}),Object(Ee.jsxs)(ve.a,{onSubmit:function(e){var r;e.preventDefault(),i((r=c,function(e){e({type:Bt.CART_SAVE_PAYMENT_METHOD,payload:r}),localStorage.setItem("paymentType",JSON.stringify(r))})),t.push("/placeorder")},children:[Object(Ee.jsxs)(ve.a.Group,{children:[Object(Ee.jsx)(ve.a.Label,{as:"lagend",children:"Select Method"}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)(ve.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"PayPal",name:"paymentMethod",value:"PayPal",onChange:function(e){return s(e.target.value)}})})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Continue"})]})]})},qt=function(e){var t=e.history,r=Object(l.b)(),n=Object(l.c)((function(e){return e.cart})).cartItems,c=Object(l.c)((function(e){return e.shipping})).shippingAddress,s=Object(l.c)((function(e){return e.payment})).paymentMethod,o=Object(l.c)((function(e){return e.order})),d=o.order,j=o.error,u=o.loading,b=o.success,p=0!==n.length?Number(100):0,h=0!==n.length?n.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2):0,m=Number(p)+Number(h);Object(a.useEffect)((function(){b&&t.push("/order/".concat(d._id))}),[t,b]);return Object(Ee.jsxs)(Ee.Fragment,{children:[u&&Object(Ee.jsx)(Ne,{}),Object(Ee.jsx)(Gt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{md:8,children:Object(Ee.jsxs)(rt.a,{value:"flush",children:[Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Shipping"}),Object(Ee.jsxs)("p",{children:[Object(Ee.jsx)("strong",{children:"Address:"}),c.address,",",c.city,",",c.postalCode,",",c.country]})]}),Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Payment Method"}),Object(Ee.jsx)("strong",{children:"Method:"}),s]}),Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Order Items"}),0===n.length?Object(Ee.jsx)(Qe,{children:"Your Cart is Empty"}):Object(Ee.jsx)(rt.a,{variant:"flush",children:n.map((function(e,t){return Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{md:1,children:Object(Ee.jsx)(Je.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(Ee.jsxs)(Ce.a,{md:4,children:[e.quantity," x $",e.price," ="," ",e.quantity*e.price]})]})},t+1)}))})]})]})}),Object(Ee.jsx)(Ce.a,{md:4,children:Object(Ee.jsx)(Me.a,{children:Object(Ee.jsxs)(rt.a,{variant:"flush",children:[Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsx)("h2",{children:"Order Summary"})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Items"}),Object(Ee.jsxs)(Ce.a,{children:["$",h]})]})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Shipping"}),Object(Ee.jsxs)(Ce.a,{children:["$",p]})]})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Total"}),Object(Ee.jsxs)(Ce.a,{children:["$",m]})]})}),j&&Object(Ee.jsx)(Qe,{variant:"danger",children:j}),Object(Ee.jsx)(rt.a.Item,{}),Object(Ee.jsx)(rt.a.Item,{className:"btn btn-dark",disabled:0===n.length,onClick:function(){r(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s,i,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:pt}),n=a(),c=n.user.user,console.log(c),s={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(c.token)}},console.log(e),t.next=8,g.a.post("http://192.168.0.107:5000/api/orders",e,s);case 8:i=t.sent,o=i.data,r(kt(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r(wt(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:n,shippingAddress:c,paymentMethod:s,itemsPrice:Number(h),shippingPrice:Number(p),taxPrice:Number(.05*Number(h)),totalPrice:Number(m)}))},children:"Place Order"})]})})})]})]})},zt=r(83),Vt=function(e){var t=e.match.params.id,r=Object(a.useState)(!1),n=Object(fe.a)(r,2),c=n[0],s=n[1],o=Object(l.b)(),d=Object(l.c)((function(e){return e.orderDetails})),j=d.order,u=d.loading,b=d.error,p=(d.success,Object(l.c)((function(e){return e.user})).user),h=Object(l.c)((function(e){return e.orderPay})),m=h.loading,f=h.success,v=(h.error,Object(l.c)((function(e){return e.orderDeliver}))),y=v.loading,E=v.success,S=v.error;Object(a.useEffect)((function(){var e,r=function(){var e=Object(x.a)(O.a.mark((function e(){var t,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://192.168.0.107:5000/api/config/paypal");case 2:t=e.sent,r=t.data,(a=document.createElement("script")).type="text/javascript",a.src="https://www.paypal.com/sdk/js?client-id=".concat(r),a.async=!0,a.onload=function(){s(!0)},document.body.appendChild(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();0===j.length||f||E?(o({type:Ct}),o({type:Rt}),o((e=t,function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s,i,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:xt}),n=a(),c=n.user.user,console.log(c),s={headers:{authorization:"Bearer ".concat(c.token)}},t.next=7,g.a.get("http://192.168.0.107:5000/api/orders/".concat(e),s);case 7:i=t.sent,o=i.data,r(Pt(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r((d=t.t0.message,{type:gt,payload:d}));case 15:case"end":return t.stop()}var d}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()))):j.isPaid||(window.paypal?s(!0):r())}),[o,t,f,j,E]);return u?Object(Ee.jsx)(Ne,{}):b?Object(Ee.jsx)(Qe,{variant:"danger",children:b}):0!==j.length&&Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsxs)("h1",{children:["Order ",j._id]}),Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{md:8,children:Object(Ee.jsxs)(rt.a,{value:"flush",children:[Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Shipping"}),Object(Ee.jsxs)("p",{children:[Object(Ee.jsx)("strong",{children:"Address:"}),j.shippingAddress.address,",",j.shippingAddress.city,",",j.shippingAddress.postalCode,",",j.shippingAddress.country]}),j.isDelivered?Object(Ee.jsxs)(Qe,{variant:"success",children:["Paid on ",j.deliveredAt]}):Object(Ee.jsx)(Qe,{variant:"danger",children:"Not Delivered"})]}),Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Payment Method"}),Object(Ee.jsxs)("p",{children:[Object(Ee.jsx)("strong",{children:"Method:"}),j.paymentMethod]}),j.isPaid?Object(Ee.jsxs)(Qe,{variant:"success",children:["Paid on ",j.paidAt]}):Object(Ee.jsx)(Qe,{variant:"danger",children:"Not Paid"})]}),Object(Ee.jsxs)(rt.a.Item,{children:[Object(Ee.jsx)("h2",{children:"Order Items"}),0===j.orderItems.length?Object(Ee.jsx)(Qe,{children:"Your Cart is Empty"}):Object(Ee.jsx)(rt.a,{variant:"flush",children:j.orderItems.map((function(e,t){return Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{md:1,children:Object(Ee.jsx)(Je.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)(i.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(Ee.jsxs)(Ce.a,{md:4,children:[e.quantity," x $",e.price," ="," ",(e.quantity*e.price).toFixed(2)]})]})},t+1)}))})]})]})}),Object(Ee.jsx)(Ce.a,{md:4,children:Object(Ee.jsx)(Me.a,{children:Object(Ee.jsxs)(rt.a,{variant:"flush",children:[Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsx)("h2",{children:"Order Summary"})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Shipping"}),Object(Ee.jsxs)(Ce.a,{children:["$",j.shippingPrice]})]})}),Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsxs)(Re.a,{children:[Object(Ee.jsx)(Ce.a,{children:"Total"}),Object(Ee.jsxs)(Ce.a,{children:["$",j.totalPrice]})]})}),!j.isPaid&&Object(Ee.jsxs)(rt.a.Item,{children:[m&&Object(Ee.jsx)(Ne,{}),c?Object(Ee.jsx)(zt.PayPalButton,{amount:j.totalPrice,onSuccess:function(e){o(function(e,t){return function(){var r=Object(x.a)(O.a.mark((function r(a,n){var c,s,i;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:ft}),c=n(),s=c.user.user,console.log(s),i={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(s.token)}},r.next=7,g.a.put("http://192.168.0.107:5000/api/orders/".concat(e,"/pay"),t,i);case 7:r.sent.data,a({type:vt}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),a((o=r.t0.message,{type:yt,payload:o}));case 15:case"end":return r.stop()}var o}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()}(t,e)),console.log(e)}}):Object(Ee.jsx)(Ne,{})]}),y&&Object(Ee.jsx)(Ne,{}),S&&Object(Ee.jsx)(Qe,{variant:"danger",children:S}),p.isAdmin&&j.isPaid&&!j.isDelivered&&Object(Ee.jsx)(rt.a.Item,{children:Object(Ee.jsx)(ye.a,{type:"button",className:"btn btn-block",onClick:function(){o(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s,i,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Et}),n=a(),c=n.user.user,console.log(c),s={headers:{authorization:"Bearer ".concat(c.token)}},t.next=7,g.a.put("http://192.168.0.107:5000/api/orders/".concat(e._id,"/deliver"),{},s);case 7:i=t.sent,o=i.data,r({type:St,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r({type:_t,action:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()}(j))},children:"Mark As Delivered"})})]})})})]})]})},Ht=function(e){var t=e.history,r=Object(l.b)(),n=Object(l.c)((function(e){return e.userList})),c=n.loading,s=n.error,i=n.users,o=Object(l.c)((function(e){return e.user})),d=o.user,u=(o.error,o.isLoading,Object(l.c)((function(e){return e.userDelete}))),b=u.loading,p=u.error,h=u.success;Object(a.useEffect)((function(){d&&d.isAdmin?r(function(){var e=Object(x.a)(O.a.mark((function e(t,r){var a,n,c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ie}),a=r(),n=a.user.user,c={headers:{authorization:"Bearer ".concat(n.token)}},e.next=6,g.a.get("http://192.168.0.107:5000/api/users",c);case 6:s=e.sent,i=s.data,t({type:ce,payload:i}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:se,payload:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,h,d]);var m=function(e){window.confirm("Are you sure?")&&r(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:de}),n=a(),c=n.user.user,s={headers:{authorization:"Bearer ".concat(c.token)}},t.next=6,g.a.delete("http://192.168.0.107:5000/api/users/".concat(e),s);case 6:t.sent.data,r({type:le}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:je,payload:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("h1",{children:"Users"}),c||b?Object(Ee.jsx)(Ne,{}):s||p?Object(Ee.jsx)(Qe,{variant:"danger",children:s}):Object(Ee.jsxs)(bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"ID"}),Object(Ee.jsx)("th",{children:"NAME"}),Object(Ee.jsx)("th",{children:"EMAIL"}),Object(Ee.jsx)("th",{children:"ADMIN"}),Object(Ee.jsx)("th",{})]})}),Object(Ee.jsx)("tbody",{children:i.map((function(e){return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{children:e._id}),Object(Ee.jsx)("td",{children:e.name}),Object(Ee.jsx)("td",{children:e.email}),Object(Ee.jsx)("td",{children:e.isAdmin?Object(Ee.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Ee.jsx)("i",{className:"fas fa-times",styles:{color:"red"}})}),Object(Ee.jsxs)("td",{children:[Object(Ee.jsx)(j.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(Ee.jsx)(ye.a,{variant:"light",className:"btn-sm",children:Object(Ee.jsx)("i",{className:"fas fa-edit"})})}),Object(Ee.jsx)(ye.a,{variant:"danger",className:"btn-sm",onClick:function(){return m(e._id)},children:Object(Ee.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},$t=function(e){var t=e.match,r=e.history,n=t.params.id;console.log(n);var c=Object(a.useState)(""),s=Object(fe.a)(c,2),o=s[0],d=s[1],j=Object(a.useState)(""),u=Object(fe.a)(j,2),b=u[0],p=u[1],h=Object(a.useState)(!1),m=Object(fe.a)(h,2),f=m[0],v=m[1],y=Object(l.b)(),E=Object(l.c)((function(e){return e.userDetails})),S=E.user,_=E.isLoading,R=E.error,C=Object(l.c)((function(e){return e.userUpdate})),T=C.loading,I=C.success,A=C.error;Object(a.useEffect)((function(){var e;I?(y({type:"USER_UPDATE_RESET"}),r.push("/admin/userlist")):S.name&&S._id===n?(d(S.name),p(S.email),v(S.isAdmin)):y((e=n,function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s,i,o,d;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"USER_DETAILS_REQUEST"}),n=a(),c=n.user.user,s={headers:{Authorization:"Bearer ".concat(c.token)}},console.log(e),t.next=7,g.a.get("http://192.168.0.107:5000/api/users/".concat(e),s);case 7:i=t.sent,o=i.data,r({type:"USER_DETAILS_SUCCESS",payload:o}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:"USER_DETAILS_FAIL",payload:d});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()))}),[S,y,n,I,r]);return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(i.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(Ee.jsxs)(lt,{children:[Object(Ee.jsx)("h1",{children:"Edit User"}),T&&Object(Ee.jsx)(Ne,{}),A&&Object(Ee.jsx)(Qe,{variant:"danger",children:A}),_?Object(Ee.jsx)(Ne,{}):R?Object(Ee.jsx)(Qe,{variant:"danger",children:R}):Object(Ee.jsxs)(ve.a,{onSubmit:function(e){var t;e.preventDefault(),y((t={_id:n,name:o,email:b,isAdmin:f},function(){var e=Object(x.a)(O.a.mark((function e(r,a){var n,c,s,i,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:be}),n=a(),c=n.user.user,s={headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(c.token)}},console.log(t),e.next=7,g.a.put("http://192.168.0.107:5000/api/users/".concat(t._id),t,s);case 7:i=e.sent,o=i.data,r({type:pe}),r({type:"USER_DETAILS_REQUEST_SUCCESS",payload:o}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,r({type:he,payload:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"name",children:[Object(Ee.jsx)(ve.a.Label,{children:"Name"}),Object(Ee.jsx)(ve.a.Control,{type:"name",placeholder:"Enter name",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"email",children:[Object(Ee.jsx)(ve.a.Label,{children:"Email Address"}),Object(Ee.jsx)(ve.a.Control,{type:"email",placeholder:"Enter email",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(Ee.jsx)(ve.a.Group,{controlId:"isadmin",children:Object(Ee.jsx)(ve.a.Check,{type:"checkbox",label:"Is Admin",checked:f,onChange:function(e){return v(e.target.checked)}})}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})},Jt=function(e){var t=e.history,r=e.match.params.pageNumber||1,n=Object(l.b)(),c=Object(l.c)((function(e){return e.product})),s=c.products,i=c.loading,o=c.error,d=c.pages,u=c.page,b=Object(l.c)((function(e){return e.productDelete})),p=b.success,h=b.loading,m=b.error,f=Object(l.c)((function(e){return e.productCeate})),v=f.success,y=f.loading,E=f.error,S=f.product,_=Object(l.c)((function(e){return e.user})),R=_.user;_.error,_.isLoading;Object(a.useEffect)((function(){n({type:"PRODUCT_CREATE_REST"}),R&&R.isAdmin?n(Ae("",r)):t.push("/login"),v&&t.push("/admin/product/".concat(S._id,"/edit"))}),[n,t,R,p,v,S,r]);var C=function(e){window.confirm("Are you sure?")&&n(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"PRODUCT_DELETE_START"}),n=a(),c=n.user.user,s={headers:{authorization:"Bearer ".concat(c.token)}},t.next=6,g.a.delete("http://192.168.0.107:5000/api/products/".concat(e),s);case 6:r({type:"PRODUCT_DELETE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:T,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsxs)(Re.a,{className:"align-items-center",children:[Object(Ee.jsx)(Ce.a,{children:Object(Ee.jsx)("h1",{children:"Products"})}),Object(Ee.jsx)(Ce.a,{className:"text-right",children:Object(Ee.jsxs)(ye.a,{className:"my-3",onClick:function(){n(function(){var e=Object(x.a)(O.a.mark((function e(t,r){var a,n,c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_START"}),a=r(),n=a.user.user,c={headers:{authorization:"Bearer ".concat(n.token)}},e.next=6,g.a.post("http://192.168.0.107:5000/api/products",{},c);case 6:s=e.sent,i=s.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:L,payload:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},children:[Object(Ee.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),h&&Object(Ee.jsx)(Ne,{}),m&&Object(Ee.jsx)(Qe,{variant:"danger",children:m}),y&&Object(Ee.jsx)(Ne,{}),E&&Object(Ee.jsx)(Qe,{variant:"danger",children:E}),i?Object(Ee.jsx)(Ne,{}):o?Object(Ee.jsx)(Qe,{variant:"danger",children:o}):Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsxs)(bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"ID"}),Object(Ee.jsx)("th",{children:"NAME"}),Object(Ee.jsx)("th",{children:"PRICE"}),Object(Ee.jsx)("th",{children:"CATEGORY"}),Object(Ee.jsx)("th",{children:"BRAND"}),Object(Ee.jsx)("th",{})]})}),Object(Ee.jsx)("tbody",{children:s.map((function(e){return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{children:e._id}),Object(Ee.jsx)("td",{children:e.name}),Object(Ee.jsxs)("td",{children:["$",e.price]}),Object(Ee.jsx)("td",{children:e.category}),Object(Ee.jsx)("td",{children:e.brand}),Object(Ee.jsxs)("td",{children:[Object(Ee.jsx)(j.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(Ee.jsx)(ye.a,{variant:"light",className:"btn-sm",children:Object(Ee.jsx)("i",{className:"fas fa-edit"})})}),Object(Ee.jsx)(ye.a,{variant:"danger",className:"btn-sm",onClick:function(){return C(e._id)},children:Object(Ee.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(Ee.jsx)(He,{pages:d,page:u,isAdmin:!0})]})]})},Wt=function(e){var t=e.match,r=e.history,n=t.params.id,c=Object(a.useState)(""),s=Object(fe.a)(c,2),o=s[0],d=s[1],j=Object(a.useState)(0),u=Object(fe.a)(j,2),b=u[0],p=u[1],h=Object(a.useState)(""),m=Object(fe.a)(h,2),f=m[0],v=m[1],y=Object(a.useState)(""),E=Object(fe.a)(y,2),S=E[0],_=E[1],R=Object(a.useState)(0),C=Object(fe.a)(R,2),T=C[0],I=C[1],A=Object(a.useState)(""),L=Object(fe.a)(A,2),D=L[0],P=L[1],N=Object(a.useState)(""),F=Object(fe.a)(N,2),G=F[0],Q=F[1],M=Object(a.useState)(!1),B=Object(fe.a)(M,2),Y=B[0],q=B[1],z=Object(l.b)(),V=Object(l.c)((function(e){return e.product})),H=V.loading,$=V.error,J=V.product,W=Object(l.c)((function(e){return e.productUpdate})),K=W.loading,X=W.error,Z=W.success;Object(a.useEffect)((function(){Z?(z({type:"PRODUCT_UPDATE_RESET"}),r.push("/admin/productlist")):J.name&&J._id===n?(d(J.name),p(J.price),v(J.image),_(J.brand),I(J.countInStock),P(J.description),Q(J.Buttoncategory)):z(Ue(n))}),[J,z,r,n,Z]);var ee=function(){var e=Object(x.a)(O.a.mark((function e(t){var r,a,n,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),q(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,g.a.post("http://192.168.0.107:5000/api/upload",a,n);case 8:c=e.sent,s=c.data,console.log(s),v(s),q(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0),q(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(i.Link,{to:"/admin/productList",className:"btn btn-light my-3",children:"Go Back"}),Object(Ee.jsxs)(lt,{children:[Object(Ee.jsx)("h1",{children:"Edit Product"}),K&&Object(Ee.jsx)(Ne,{}),X&&Object(Ee.jsx)(Qe,{variant:"danger",children:X}),H?Object(Ee.jsx)(Ne,{}):$?Object(Ee.jsx)(Qe,{variant:"danger",children:$}):Object(Ee.jsxs)(ve.a,{onSubmit:function(e){e.preventDefault(),z(function(e){return function(){var t=Object(x.a)(O.a.mark((function t(r,a){var n,c,s,i,o,d;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:U}),n=a(),c=n.user.user,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,g.a.put("http://192.168.0.107:5000/api/products/".concat(e._id),e,s);case 6:i=t.sent,o=i.data,r({type:k,payload:o}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),d=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:w,payload:d});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:n,name:o,price:b,description:D,image:f,brand:S,countInStock:T,category:G}))},children:[Object(Ee.jsxs)(ve.a.Group,{controlId:"name",children:[Object(Ee.jsx)(ve.a.Label,{children:"Name"}),Object(Ee.jsx)(ve.a.Control,{type:"text",placeholder:"Enter name",value:o,onChange:function(e){return d(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"price",children:[Object(Ee.jsx)(ve.a.Label,{children:"Price"}),Object(Ee.jsx)(ve.a.Control,{type:"number",placeholder:"Enter price",value:b,onChange:function(e){return p(Number(e.target.value))}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"image",children:[Object(Ee.jsx)(ve.a.Label,{children:"Image"}),Object(Ee.jsx)(ve.a.Control,{type:"text",placeholder:"Enter Image",value:f,onChange:function(e){return v(e.target.value)}}),Object(Ee.jsx)(ve.a.File,{id:"image-file",label:"chose File",custome:!0,onChange:ee}),Y&&Object(Ee.jsx)(Ne,{})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"brand",children:[Object(Ee.jsx)(ve.a.Label,{children:"Brand"}),Object(Ee.jsx)(ve.a.Control,{type:"text",placeholder:"Enter Brand",value:S,onChange:function(e){return _(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"category",children:[Object(Ee.jsx)(ve.a.Label,{children:"Category"}),Object(Ee.jsx)(ve.a.Control,{type:"text",placeholder:"Enter Category",value:G,onChange:function(e){return Q(e.target.value)}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"countInStock",children:[Object(Ee.jsx)(ve.a.Label,{children:"countInStock"}),Object(Ee.jsx)(ve.a.Control,{type:"number",placeholder:"Enter price",value:T,onChange:function(e){return I(Number(e.target.value))}})]}),Object(Ee.jsxs)(ve.a.Group,{controlId:"description",children:[Object(Ee.jsx)(ve.a.Label,{children:"description"}),Object(Ee.jsx)(ve.a.Control,{type:"text",placeholder:"Enter description",value:D,onChange:function(e){return P(e.target.value)}})]}),Object(Ee.jsx)(ye.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})},Kt=function(e){var t=e.history,r=Object(l.b)(),n=Object(l.c)((function(e){return e.getAllOrder})),c=n.loading,s=n.error,i=n.orders,o=Object(l.c)((function(e){return e.user})),d=o.user;o.error,o.isLoading;return Object(a.useEffect)((function(){d&&d.isAdmin?r(function(){var e=Object(x.a)(O.a.mark((function e(t,r){var a,n,c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Lt}),a=r(),n=a.user.user,console.log(n),c={headers:{authorization:"Bearer ".concat(n.token)}},e.next=7,g.a.get("http://192.168.0.107:5000/api/orders",c);case 7:s=e.sent,i=s.data,t({type:Dt,payload:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t({type:Ut});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[r,t,d]),Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)("h1",{children:"Orders"}),c?Object(Ee.jsx)(Ne,{}):s?Object(Ee.jsx)(Qe,{variant:"danger",children:s}):Object(Ee.jsxs)(bt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(Ee.jsx)("thead",{children:Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("th",{children:"ID"}),Object(Ee.jsx)("th",{children:"USER"}),Object(Ee.jsx)("th",{children:"DATE"}),Object(Ee.jsx)("th",{children:"TOTAL"}),Object(Ee.jsx)("th",{children:"PAID"}),Object(Ee.jsx)("th",{children:"DELIVERED"}),Object(Ee.jsx)("th",{})]})}),Object(Ee.jsx)("tbody",{children:i.map((function(e){return Object(Ee.jsxs)("tr",{children:[Object(Ee.jsx)("td",{children:e._id}),Object(Ee.jsx)("td",{children:e.user&&e.user.name}),Object(Ee.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(Ee.jsxs)("td",{children:["$",e.totalPrice]}),Object(Ee.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(Ee.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ee.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(Ee.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Ee.jsx)("td",{children:Object(Ee.jsx)(j.LinkContainer,{to:"/order/".concat(e._id),children:Object(Ee.jsx)(ye.a,{variant:"light",className:"btn-sm",children:"Details"})})})]},e._id)}))})]})]})},Xt=function(){return Object(Ee.jsxs)(i.BrowserRouter,{children:[Object(Ee.jsx)(_e,{}),Object(Ee.jsx)("main",{className:"py-3",children:Object(Ee.jsxs)(d.a,{children:[Object(Ee.jsx)(o.d,{path:"/placeorder",component:qt}),Object(Ee.jsx)(o.d,{path:"/payment",component:Yt}),Object(Ee.jsx)(o.d,{path:"/order/:id",component:Vt}),Object(Ee.jsx)(o.d,{path:"/shipping",component:Mt}),Object(Ee.jsx)(o.d,{path:"/register",component:ut}),Object(Ee.jsx)(o.d,{path:"/login",component:jt}),Object(Ee.jsx)(o.d,{path:"/profile",component:Ft}),Object(Ee.jsx)(o.d,{path:"/product/:id",component:at}),Object(Ee.jsx)(o.d,{path:"/cart/:id?",component:ot}),Object(Ee.jsx)(o.d,{path:"/admin/userlist",component:Ht}),Object(Ee.jsx)(o.d,{path:"/admin/productList",component:Jt,exact:!0}),Object(Ee.jsx)(o.d,{path:"/admin/productList/:pageNumber",component:Jt,exact:!0}),Object(Ee.jsx)(o.d,{path:"/admin/user/:id/edit",component:$t}),Object(Ee.jsx)(o.d,{path:"/admin/product/:id/edit",component:Wt}),Object(Ee.jsx)(o.d,{path:"/admin/orderList",component:Kt}),Object(Ee.jsx)(o.d,{path:"/search/:keyword",component:et,exact:!0}),Object(Ee.jsx)(o.d,{path:"/search/:keyword/page/:pageNumber",component:et,exact:!0}),Object(Ee.jsx)(o.d,{path:"/",component:et,exact:!0}),Object(Ee.jsx)(o.d,{path:"/page/:pageNumber",component:et,exact:!0})]})}),Object(Ee.jsx)(Te,{})]})},Zt=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,145)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},er=r(42),tr=r(84),rr=r(85),ar={products:[],product:[],loading:!1,error:void 0},nr=function(e,t){return e.find((function(e){return e._id===t._id}))?e.map((function(e){return e._id===t._id?Object(tt.a)(Object(tt.a)({},e),{},{quantity:e.quantity+t.quantity,color:t.color,size:t.size}):e})):[].concat(Object(ze.a)(e),[Object(tt.a)({},t)])},cr=function(e,t){return e.filter((function(e){return e._id!==t._id}))},sr=function(e,t){return 1===e.find((function(e){return e._id===t._id})).quantity?cr(e,t):e.map((function(e){return e._id===t._id?Object(tt.a)(Object(tt.a)({},e),{},{quantity:e.quantity-1}):e}))},ir={cartItems:[]},or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Object(tt.a)(Object(tt.a)({},e),{},{cartItems:nr(e.cartItems,t.payload)});case ct:return Object(tt.a)(Object(tt.a)({},e),{},{cartItems:sr(e.cartItems,t.payload)});case st:return Object(tt.a)(Object(tt.a)({},e),{},{cartItems:cr(e.cartItems,t.payload)});default:return e}},dr={user:{},userDetails:{},isLoading:!1,error:null},lr={shippingAddress:""},jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt.CART_SAVE_SHIPPING_ADDRESS:return Object(tt.a)(Object(tt.a)({},e),{},{shippingAddress:t.payload});default:return e}},ur={paymentMethod:""},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt.CART_SAVE_PAYMENT_METHOD:return Object(tt.a)(Object(tt.a)({},e),{},{paymentMethod:t.payload});default:return e}},pr={loading:!1,order:null,error:null,success:null},hr=Object(er.combineReducers)({topProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case F:return{success:!0,loading:!1,products:t.payload};case G:return{loading:!1,error:t.payload};default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case M:return{success:!0,loading:!1};case B:return{loading:!1,error:t.payload};case Y:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return{loading:!0};case k:return{success:!0,loading:!1,product:t.payload};case w:return{loading:!1,error:t.payload};case P:return{product:{}};default:return e}},productCeate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case A:return{success:!0,loading:!1,product:t.payload};case L:return{loading:!1,error:t.payload};case D:return{};default:return e}},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case E:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case v:return Object(tt.a)(Object(tt.a)({},e),{},{products:t.payload.products,pages:t.payload.pages,page:t.payload.page,loading:!1});case S:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,product:t.payload});case y:case _:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case C:return{success:!0,loading:!1};case T:return{loading:!1,error:t.payload};default:return e}},cart:or,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case J:case W:case Z:return Object(tt.a)(Object(tt.a)({},e),{},{isLoading:!0});case z:case K:return Object(tt.a)(Object(tt.a)({},e),{},{isLoading:!1,user:t.payload,error:null});case ee:return Object(tt.a)(Object(tt.a)({},e),{},{userDetails:t.payload,error:null,isLoading:!1});case te:return Object(tt.a)(Object(tt.a)({},e),{},{error:t.payload});case V:case X:return Object(tt.a)(Object(tt.a)({},e),{},{isLoading:!1,error:t.payload,user:{},userDetails:{}});case $:return Object(tt.a)(Object(tt.a)({},e),{},{isLoading:!1,error:t.payload});case H:return Object(tt.a)(Object(tt.a)({},e),{},{user:{},userDetails:{},isLoading:!1,error:null});default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case ce:return Object(tt.a)(Object(tt.a)({},e),{},{users:t.payload,loading:!1,error:null});case se:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload});case oe:return{users:[]};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{user:{}};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case pe:return Object(tt.a)(Object(tt.a)({},e),{},{success:!0,loading:!1,error:null});case he:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload});case ue:return{user:{}};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case le:return Object(tt.a)(Object(tt.a)({},e),{},{success:!0,loading:!1,error:null});case je:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload});case ue:return{user:{}};default:return e}},update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{updatedUser:{},pending:!1,updateError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(tt.a)(Object(tt.a)({},e),{},{pending:!0});case ae:return Object(tt.a)(Object(tt.a)({},e),{},{updatedUser:t.payload,pending:!1,updateError:null});case ne:return Object(tt.a)(Object(tt.a)({},e),{},{pending:!1,updateError:t.payload});default:return e}},shipping:jr,payment:br,order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case ht:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,order:t.payload,success:!0});case Ot:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload,success:!1});default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,order:[],success:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case mt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,order:t.payload,success:!0});case gt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload,success:!1});default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case vt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,success:!0});case yt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload,success:!1});case Ct:return{};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[],loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case It:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,orders:t.payload});case At:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},getAllOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[],loading:!1,error:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case Dt:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,orders:t.payload});case Ut:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload});default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!0});case St:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,success:!0});case _t:return Object(tt.a)(Object(tt.a)({},e),{},{loading:!1,error:t.payload,success:!1});case Rt:return{};default:return e}}}),Or={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},user:{user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):[]},shipping:{shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):[]}},xr=[tr.a],mr=Object(er.createStore)(hr,Or,Object(rr.composeWithDevTools)(er.applyMiddleware.apply(void 0,xr)));s.a.render(Object(Ee.jsx)(n.a.StrictMode,{children:Object(Ee.jsx)(l.a,{store:mr,children:Object(Ee.jsx)(Xt,{})})}),document.getElementById("root")),Zt()},90:function(e,t,r){},91:function(e,t,r){}},[[126,1,2]]]);
//# sourceMappingURL=main.e3cec9e8.chunk.js.map